<app-nav-bar></app-nav-bar>
<section class="vh-100" style="background-color: #d5eef5;">
    <div class="container-fluid">
        <div class="d-flex justify-content-center">
            <div class="card mt-5" style="width:27rem">
                <div class="card-header">
                    <div class="text-center">
                        <h3 class="text-info">UPDATE PROFILE</h3>
                    </div>
                </div>
                <div class="card-body">
                    <form #userform="ngForm">
                        <div class="form-group mb-3">
                            <label for="username" class="text"><b>Name</b></label>
                            <input ngModel required minlength="3" pattern="[a-zA-Z\s]+" type="text" class="form-control"
                                id="username" name="username" #username="ngModel"
                                [class.is-invalid]="username.invalid && username.touched" [(ngModel)]="profile.name">
                            <p *ngIf="username.touched && username.invalid" class="text-danger">
                                <small *ngIf="username.errors?.['required']">Name is Required</small>
                                <small *ngIf="username.errors?.['minlength']">Name has to minimum 3 characters</small>
                                <small *ngIf="username.errors?.['pattern']">Invalid input</small>
                            </p>
                        </div>
                        <div class="form-group mb-3">
                            <label for="useremail"><b>Email</b></label>
                            <input ngModel required pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$" type="text"
                                class="form-control" id="useremail" name="useremail" #useremail="ngModel"
                                [class.is-invalid]="useremail.invalid && useremail.touched" [(ngModel)]="profile.email">
                            <p *ngIf="useremail.touched && useremail.invalid" class="text-danger">
                                <small *ngIf="useremail.errors?.['required']">Email is Required</small>
                                <small *ngIf="useremail.errors?.['pattern']">Invalid input</small>
                            </p>
                        </div>
                        <div class="form-group mb-3">
                            <label for="userphone"><b>Phone Number</b></label>
                            <input ngModel required pattern="^[789]\d{9}$" type="text" class="form-control"
                                id="userphone" name="userphone" #userphone="ngModel"
                                [class.is-invalid]="userphone.invalid && userphone.touched"
                                [(ngModel)]="profile.phoneNumber">
                            <p *ngIf="userphone.touched && userphone.invalid" class="text-danger">
                                <small *ngIf="userphone.errors?.['required']">Phone Number is Required</small>
                                <small *ngIf="userphone.errors?.['pattern']">Invalid input</small>
                            </p>
                        </div>
                        <!-- <div class="form-group mb-3">
                        <label for="userpassword">Password</label>
                        <input ngModel required pattern="(?=^.{8,}$)(?=.*\d)(?=.*[!@#$%^&*]+)(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
                        type="password" class="form-control" id="userpassword" name="userpassword"
                        #userpassword="ngModel"
                        [class.is-invalid]="userpassword.invalid && userpassword.touched"
                        [class.is-valid]="userpassword.valid" [(ngModel)]="profile.password">
                        <p *ngIf="userpassword.touched && userpassword.invalid" class="text-danger">
                          <small *ngIf="userpassword.errors?.['required']">Password is Required</small>
                          <small *ngIf="userpassword.errors?.['pattern']">Weak Password</small>
                        </p>
                      </div> -->
                        <div class="form-group mb-3">
                            <label for="userpassword1"><b>Change Password</b></label>
                            <input ngModel required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" type="password"
                                class="form-control" id="userpassword1" name="userpassword1" #userpassword1="ngModel"
                                [class.is-invalid]="userpassword1.invalid && userpassword1.touched"
                                [(ngModel)]="newpassword">
                            <p *ngIf="userpassword1.invalid && userpassword1.touched" class="text-danger">
                                <small *ngIf="userpassword1.errors?.['required']">Password is required</small>
                                <small *ngIf="userpassword1.errors?.['pattern']">Password should match pattern
                                    : Must contain at least one number and one uppercase and lowercase
                                    letter, and at least 8 or more characters
                                </small>
                            </p>
                        </div>

                        <div class="form-group mb-3">
                            <label for="useraddress"><b>Address</b></label>
                            <input ngModel required minlength="5" pattern="[a-zA-Z\s]+" type="text" class="form-control"
                                id="useraddress" name="useraddress" #useraddress="ngModel"
                                [class.is-invalid]="useraddress.invalid && useraddress.touched"
                                [(ngModel)]="profile.address">
                            <p *ngIf="useraddress.touched && useraddress.invalid" class="text-danger">
                                <small *ngIf="useraddress.errors?.['required']">Address is Required</small>
                                <small *ngIf="useraddress.errors?.['minlength']">Name has to minimum 5
                                    characters</small>
                                <small *ngIf="useraddress.errors?.['pattern']">Invalid input</small>
                            </p>
                        </div>

                        <div class="card-footer">
                            <button type="button" class="btn btn-outline-info" (click)="update()">Update</button>
                            <button type="button" class="btn btn-outline-dark float-end" routerLink="/userprofile">Back</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <app-footer></app-footer>
</section>